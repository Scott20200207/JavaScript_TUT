<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>图</title>
    <script src="Dictionary.js"></script>
    <script src="Queue.js"></script>
</head>

<body>
    <script>
        function Graph() {
            //属性: 顶点(数组)/边(字典)
            var vertexes = [] //顶点数组

            var edges = new Dictionary() //边

            //通过闭包,隐藏顶点和边的引用
            this.getVertexes = function () {
                return vertexes
            }

            this.getEdges = function () {
                return edges
            }

            //方法
            //1. 添加顶点
            //2. 添加边
        }

        //添加顶点
        Graph.prototype.addVertex = function (v) {
            this.getVertexes().push(v)
            this.getEdges().set(v, [])
        }

        //添加边  -- 无向图
        Graph.prototype.addEdge = function (v1, v2) {
            this.getEdges().get(v1).push(v2)
            this.getEdges().get(v2).push(v1)
        }

        Graph.prototype.toString = function () {
            var resultStr = ""
            //以邻阶表来显示
            var vertexes = this.getVertexes()
            for (let i = 0, len = vertexes.length; i < len; i++) {
                resultStr += vertexes[i] + "->"
                var edges = this.getEdges().get(vertexes[i])
                for (let j = 0, len = edges.length; j < len; j++) {
                    resultStr += " "+edges[j]
                }
                resultStr += "\n"
            }

            return resultStr
        }

        Graph.prototype.initializeColor = function () {
            var colors = []
            var vertexes = this.getVertexes()
            for (let i = 0,len=vertexes.length; i < len; i++) {
                colors[vertexes[i]] = "white"
            }
            return colors
        }

        // 广度优先搜索(BFS)
        //@param v : 任意一个顶点
        Graph.prototype.bfs = function (v) {
            //1.初始化所有顶点的颜色为白色
            var clors = this.initializeColor()

            //2.把起始顶点加入队列中
            var queue = new Queue()
            queue.enqueue(v)

            var allVertexes = this.getVertexes()
            var allEdges = this.getEdges()
            //3.循环取出队列中的元素直至队列为empty
            while(!queue.isEmpty()){
                //1.从队列中取出顶点
                var v = queue.dequeue()
                
            }
        }

        //测试代码
        var graph = new Graph()
        var myVertexes = ["A","B","C","D","E","F","G","H","I"]
        for (let i = 0; i < myVertexes.length; i++) {
            graph.addVertex(myVertexes[i])
        }

        graph.addEdge("A", "B") 
        graph.addEdge("A", "C") 
        graph.addEdge("A", "D") 
        graph.addEdge("C", "D") 
        graph.addEdge("C", "G") 
        graph.addEdge("D", "G") 
        graph.addEdge("D", "H") 
        //grap.addEdge("B", "B") 
        //grap.addEdge("B", "B") 

        console.log(graph.toString())
    </script>
</body>

</html>